<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catalogo Romatletica 2026</title>

<style>
/* === STILI ORIGINALI (NON TOCCATI) === */
body { font-family: Calibri, sans-serif; margin:0; background:#f4f4f4; }
header { background:#fff; padding:40px 30px 20px; border-bottom:3px solid #004aad; }
header h1 { margin:0; font-size:32px; }
header p { margin-top:8px; color:#555; }

.filter-bar, .size-filter-bar {
  background:#fff; padding:10px 30px; display:flex; gap:10px;
}
.filter-bar { position:sticky; top:0; z-index:100; border-bottom:1px solid #ddd; }
.size-filter-bar { position:sticky; top:52px; z-index:90; border-bottom:1px solid #eee; }

.filter-bar button, .size-filter-bar button {
  border:none; background:#004aad; color:#fff; border-radius:5px;
  padding:6px 12px; cursor:pointer;
}
.filter-bar button.active { background:#f7ff00; color:#004aad; }
.size-filter-bar button { background:#e6efff; color:#004aad; border:1px solid #004aad; border-radius:20px; font-size:12px; }
.size-filter-bar button.active { background:#004aad; color:#fff; }

section { display:none; padding:30px; }
section.active { display:block; }

.catalog-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:20px; }
@media(max-width:768px){ .catalog-grid{grid-template-columns:1fr;} }

.card {
  background:#fff; padding:20px; border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}
.card.disabled { opacity:.25; pointer-events:none; filter:grayscale(90%); }

.product-img { width:100%; max-height:220px; object-fit:contain; background:#f8f8f8; border-radius:6px; }

.btn { margin-top:10px; display:inline-block; background:#004aad; color:#fff;
  padding:8px 14px; border-radius:4px; text-decoration:none; }

.modal {
  position:fixed; inset:0; background:rgba(0,0,0,.6);
  display:none; align-items:center; justify-content:center; z-index:300;
}
.modal-content {
  background:#fff; padding:24px; border-radius:16px; max-width:420px; width:100%;
}
.modal-actions { display:flex; gap:10px; margin-top:20px; }
.modal-actions button { flex:1; padding:10px; border:none; border-radius:8px; cursor:pointer; }
.confirm { background:#004aad; color:#fff; }
.cancel { background:#eee; }
</style>
</head>

<body>

<header>
<h1>CATALOGO ROMATLETICA 2026</h1>
<p>Asd Romatletica in collaborazione con Joma</p>
</header>

<div class="filter-bar">
<button data-target="tuta" class="active">Tuta (<span id="count-tuta"></span>)</button>
<button data-target="viaggiare">Viaggiare (<span id="count-viaggiare"></span>)</button>
<button data-target="felpe">Felpe (<span id="count-felpe"></span>)</button>
</div>

<div class="size-filter-bar">
<button data-size="all" class="active">Tutte</button>
<button data-size="XS">XS</button><button data-size="S">S</button>
<button data-size="M">M</button><button data-size="L">L</button>
<button data-size="XL">XL</button>
</div>

<!-- === PUNTO 1.2: CARRELLO === -->
<div style="padding:10px 30px">
<button class="btn" onclick="openCart()">ðŸ›’ Carrello (<span id="cartCount">0</span>)</button>
</div>

<section id="tuta" class="active">
<div class="catalog-grid">
<div class="card" data-size="XS,S,M,L,XL">
<h3>Felpa Gala Bianca</h3>
<p>Codice: 100086.200</p>
<a class="btn" href="#" onclick="openOrder(this);return false;">AGGIUNGI</a>
</div>
</div>
</section>

<!-- === MODALE ORDINE === -->
<div id="orderModal" class="modal">
<div class="modal-content">
<h3 id="modalProduct"></h3>
<label>Taglia</label><select id="orderSize"><option>XS</option></select>
<label>QuantitÃ </label><input id="orderQty" type="number" value="1">
<div class="modal-actions">
<button class="confirm" onclick="addCurrentToCart()">Aggiungi al carrello</button>
<button class="cancel" onclick="closeModal()">Annulla</button>
</div>
</div>
</div>

<!-- === PUNTO 1.4: MODALE CARRELLO === -->
<div id="cartModal" class="modal">
<div class="modal-content">
<h3>Il tuo carrello</h3>
<div id="cartList"></div>
<label>Nome</label><input id="checkoutName">
<label>Email</label><input id="checkoutEmail">
<div class="modal-actions">
<button class="confirm" onclick="checkout()">Invia ordine</button>
<button class="cancel" onclick="closeCart()">Chiudi</button>
</div>
</div>
</div>

<script>
let selectedCard=null;

function openOrder(btn){
selectedCard=btn.closest('.card');
document.getElementById('modalProduct').innerText=selectedCard.querySelector('h3').innerText;
document.getElementById('orderModal').style.display='flex';
}
function closeModal(){document.getElementById('orderModal').style.display='none';}

function getCart(){return JSON.parse(localStorage.getItem('cart')||'[]');}
function setCart(c){localStorage.setItem('cart',JSON.stringify(c));updateCartCount();}
function updateCartCount(){
document.getElementById('cartCount').innerText=getCart().length;
}

function addCurrentToCart(){
const cart=getCart();
cart.push({
articolo:selectedCard.querySelector('h3').innerText,
taglia:document.getElementById('orderSize').value,
quantita:document.getElementById('orderQty').value
});
setCart(cart); closeModal();
}

function openCart(){renderCart();document.getElementById('cartModal').style.display='flex';}
function closeCart(){document.getElementById('cartModal').style.display='none';}

function renderCart(){
const c=getCart();
document.getElementById('cartList').innerHTML=c.map(i=>`<p>${i.articolo} (${i.taglia}) x${i.quantita}</p>`).join('');
}

function checkout(){
alert("Ordine inviato (mock)");
localStorage.removeItem('cart');
updateCartCount(); closeCart();
}
updateCartCount();
</script>

</body>
</html>
